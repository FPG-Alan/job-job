<a class="ui button" routerLink="/home">
    <i class="cancel icon"></i>Cancel
</a>

<h1>
    Create New Job
</h1>

<form #form="ngForm" class="ui form" id="new-job-form"
      (ngSubmit)="onSubmit(form)"
      novalidate>
    {{finalName.result}}
    <!--Job Name-->
    <div class="required field" [class.error]="submitted && !name.valid">
        <!--TODO: toggle on whether user would let system auto generate name-->
        <label>Job Name</label>
        <input type="text"
               required
               [(ngModel)]="job.name"
               (ngModelChange)="this.submitted = false; onJobNameChange()"
               name="name"
               #name="ngModel">
    </div>
    <!--Client-->
    <div class="field">
        <label>Client</label>
        <select class="ui search dropdown" (change)="onClientChange($event.target.value)" name="client">
            <option value=""></option>
            <option *ngFor="let cli of clients; let i = index"
                    [value]="cli.shortCode">{{cli.name}}
            </option>
        </select>
    </div>
    <!--Start and End Dates-->
    <div class="two fields">
        <div class="required field" [class.error]="!startDate.valid">
            <label>Start Date (Month/Day/Year)</label>
            <input type="date"
                   required
                   [(ngModel)]="job.startDate"
                   (ngModelChange)="onDateChange('start', $event)"
                   name="startDate"
                   #startDate="ngModel">
        </div>
        <div class="required field" [class.error]="!endDate.valid">
            <label>End Date (Month/Day/Year)</label>
            <input type="date"
                   required
                   [(ngModel)]="job.endDate"
                   (ngModelChange)="onDateChange('end', $event)"
                   name="endDate"
                   #endDate="ngModel">
        </div>
    </div>
    <!--TODO
        client select
        brand select after client
        auto generated projectCode
        projectStatus select
        rateCard select
        serviceType (toggle or select or radial)
        description text area
        tags (form/list display like cakebook's ingredients; be careful of enter button)
        start and end date (format: e.g. 2015-03-01) required
        phases (not MVP(?))
    -->
    <div class="ui divider"></div>
    <button type="submit" class="ui right floated positive button"
            [disabled]="!form.form.valid || submitted">Submit
    </button>

</form>