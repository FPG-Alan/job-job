<div class="ui clearing basic segment">
    <h1 class="ui left floated header"><i class="suitcase icon"></i>Jobs</h1>
    <a class="ui right floated button" routerLink="/jobs/new">
        <i class="add icon"></i>New Job
    </a>
</div>

<!--Filtering by Client-->
<form #f="ngForm">
    <!--<div class="ui fluid multiple search selection dropdown">-->
        <!--<input type="hidden" name="client"-->
               <!--[(ngModel)]="clientFilterInput"-->
               <!--(change)="onFilterSearchChange(searchInput.value)"-->
               <!--#searchInput="ngModel">-->
        <!--<i class="filter search icon"-->
           <!--(click)="searchInput.value = ''">-->
            <!--&lt;!&ndash;leave the "search" class so it puts the icon in the right place&ndash;&gt;-->
        <!--</i>-->
        <!--<input class="search">-->
        <!--<div class="default text">Filter by Client...</div>-->
        <!--<div class="menu">-->
            <!--<div class="item" *ngFor="let c of clients">{{c?.name}}</div>-->
        <!--</div>-->
    <!--</div>-->

    <select multiple="" class="ui fluid multiple search selection dropdown"
            [(ngModel)]="clientFilterInput"
            (ngModelChange)="onFilterSearchChange()"
            name="clientFilter"
            #clientFilter="ngModel">
        <!--disabled will prevent selection of empty string tags-->
        <option value="" disabled="true">Filter by Client...</option>
        <option *ngFor="let c of clients;"
                [value]="c.name">{{c.name}}
        </option>
    </select>

    <select multiple="" class="ui fluid multiple search selection dropdown"
            [(ngModel)]="tagFilterInput"
            (ngModelChange)="onFilterSearchChange()"
            name="tagFilter"
            #tagFilter="ngModel">
        <!--disabled will prevent selection of empty string tags-->
        <option value="" disabled="true">Filter by Tag...</option>
        <option *ngFor="let t of tags;"
                [value]="t.name">{{t.name}}
        </option>
    </select>
</form>

<!--Display Area-->
<div class="ui basic no-padding segment" [class.loading]="loading">
    <table class="ui yellow compact selectable sortable celled table"
           *ngIf="displayedJobs?.length > 0">
        <thead>
        <tr>
            <th [class.sorted]="sortCategory == 'name'"
                [class.ascending]="sortOrder == 'ascending'"
                [class.descending]="sortOrder == 'descending'"
                (click)="sortTable('name')">
                Job Name
            </th>
            <th [class.sorted]="sortCategory == 'client'"
                [class.ascending]="sortOrder == 'ascending'"
                [class.descending]="sortOrder == 'descending'"
                (click)="sortTable('client')">
                Client
            </th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let j of displayedJobs"
            [routerLink]="['/jobs/details', j?.id]">
            <td>{{j?.name | characterLimit: 35}}</td>
            <td>{{j?.client}}</td>
        </tr>
        </tbody>
    </table>

    <div *ngIf="displayedJobs === null || displayedJobs?.length == 0"
         class="ui warning message">
        <div class="header">
            No jobs found
        </div>
    </div>
</div>
